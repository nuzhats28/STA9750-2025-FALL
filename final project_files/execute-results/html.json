{
  "hash": "105c49d2b1102a78e52215a6990d89e0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"final project\"\nformat: html\n---\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install packages if not already installed\n# install.packages(\"ggplot2\")\n# install.packages(\"dplyr\")\n\nlibrary(ggplot2)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\n# Create the dataset\nincome_data <- data.frame(\n  Category = c(\"Median Household Income\", \n               \"Emotional Well Being\", \n               \"Income Satiation for Life Evaluation\"),\n  Amount = c(68703, 70000, 105000)\n)\n\n# Plot\nggplot(income_data, aes(x = Category, y = Amount, fill = Category)) +\n  geom_bar(stat = \"identity\", width = 0.6) +\n  geom_text(aes(label = paste0(\"$\", format(Amount, big.mark=\",\", scientific=FALSE))),\n            vjust = -0.8, size = 5) +\n  scale_y_continuous(labels = scales::dollar_format()) +\n  labs(\n    title = \"US Household Income & Happiness Levels\",\n    x = \"\",\n    y = \"Annual Income\"\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output-display}\n![](final-project_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(dplyr)\n\nincome_data <- data.frame(\n  Category = c(\"Median Household Income\", \n               \"Emotional Well Being\", \n               \"Income Satiation for Life Evaluation\"),\n  Amount = c(68703, 70000, 105000)\n)\n\nggplot(income_data, aes(x = Amount, y = reorder(Category, Amount))) +\n  geom_col(fill = \"#4B9CD3\") +\n  geom_text(aes(label = paste0(\"$\", format(Amount, big.mark=\",\"))),\n            hjust = -0.1, size = 5) +\n  scale_x_continuous(labels = scales::dollar_format(),\n                     expand = expansion(mult = c(0, 0.15))) +\n  labs(\n    title = \"US Household Income & Happiness Levels\",\n    x = \"Annual Income\",\n    y = \"\"\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](final-project_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nincome_data <- data.frame(\n  Category = c(\"Median Household Income\", \n               \"Emotional Well Being\", \n               \"Income Satiation for Life Evaluation\"),\n  Amount = c(68703, 70000, 105000)\n)\n\nggplot(income_data, aes(x = Amount, y = Category)) +\n  geom_point(size = 6) +\n  geom_segment(aes(x = 0, xend = Amount, y = Category, yend = Category),\n               linewidth = 1) +\n  geom_text(aes(label = paste0(\"$\", format(Amount, big.mark=\",\"))),\n            vjust = -0.7, size = 5) +\n  scale_x_continuous(labels = scales::dollar_format()) +\n  labs(\n    title = \"Income Levels Related to Happiness\",\n    x = \"Annual Income\",\n    y = \"\"\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](final-project_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n# Create demonstration data\nincome <- seq(0, 150000, by = 5000)\nhappiness <- 1 - exp(-income / 25000)   # diminishing returns pattern\n\ndata <- data.frame(\n  Income = income,\n  Happiness = happiness\n)\n\nggplot(data, aes(x = Income, y = Happiness)) +\n  geom_point(size = 2.5, alpha = 0.7) +           # scatter points\n  geom_line(linewidth = 1.2) +                    # line through points\n  scale_x_continuous(labels = scales::dollar_format()) +\n  labs(\n    title = \"Income vs. Happiness with Diminishing Returns\",\n    subtitle = \"Scatter points show the trend: rapid gains early, flattening after ~$60k\",\n    x = \"Income\",\n    y = \"Happiness\"\n  ) +\n  theme_minimal(base_size = 15) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    plot.subtitle = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output-display}\n![](final-project_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n# Create demonstration data\nincome <- seq(0, 150000, by = 5000)\nhappiness <- 1 - exp(-income / 25000)\n\ndata <- data.frame(\n  Income = income,\n  Happiness = happiness\n)\n\nggplot(data, aes(x = Income, y = Happiness)) +\n  geom_point(size = 2.8, alpha = 0.7) +             # scatter points\n  geom_smooth(se = FALSE, linewidth = 1.1) +        # smooth curve (loess)\n  scale_x_continuous(labels = scales::dollar_format()) +\n  labs(\n    title = \"Income vs. Happiness: Scatter Visualization\",\n    subtitle = \"Happiness increases with income but rises more slowly at higher levels\",\n    x = \"Income\",\n    y = \"Happiness\"\n  ) +\n  theme_minimal(base_size = 15) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    plot.subtitle = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](final-project_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(dplyr)\n\nset.seed(123)   # for reproducibility\n\n# Generate realistic income values (skewed toward lower incomes)\nincome <- sort(rlnorm(200, meanlog = 10.5, sdlog = 0.35))  \nincome <- pmin(income, 150000)  # cap at 150k\n\n# True diminishing returns curve\ntrue_happiness <- 1 - exp(-income / 25000)\n\n# Add realistic noise (survey variation)\nhappiness <- true_happiness + rnorm(200, mean = 0, sd = 0.05)\nhappiness <- pmin(pmax(happiness, 0), 1)  # keep between 0 and 1\n\ndata <- data.frame(\n  Income = income,\n  Happiness = happiness\n)\n\nggplot(data, aes(x = Income, y = Happiness)) +\n  geom_point(alpha = 0.6, size = 2.3) +    # scatter points\n  geom_smooth(se = FALSE, linewidth = 1.2, color = \"blue\") +  # trend line\n  scale_x_continuous(labels = scales::dollar_format()) +\n  labs(\n    title = \"Income vs. Happiness\",\n    subtitle = \"Strong happiness gains at low incomes, diminishing returns after ~$60k\",\n    x = \"Income\",\n    y = \"Happiness (0â€“1 scale)\"\n  ) +\n  theme_minimal(base_size = 15) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    plot.subtitle = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](final-project_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load required libraries\nlibrary(ggplot2)\nlibrary(MASS)   # for mvrnorm\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'MASS'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:dplyr':\n\n    select\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(scales) # for dollar_format\n\nset.seed(123)  # reproducibility\nn <- 50        # number of countries\n\n# Desired correlation\nrho <- 0.69\n\n# Means and standard deviations\nmu <- c(30000, 6)               # mean GDP, mean Happiness\nsigma <- c(20000, 1.5)          # SD of GDP, SD of Happiness\n\n# Covariance matrix\nSigma <- matrix(c(sigma[1]^2, rho*sigma[1]*sigma[2],\n                  rho*sigma[1]*sigma[2], sigma[2]^2), nrow=2)\n\n# Generate correlated GDP and Happiness\ndata <- mvrnorm(n=n, mu=mu, Sigma=Sigma)\n\n# Create data frame\ndf <- data.frame(\n  Country = paste(\"Country\", 1:n),\n  GDP = data[,1],\n  Happiness = pmin(pmax(data[,2], 0), 10)  # cap Happiness between 0 and 10\n)\n\n# Check correlation\ncor(df$GDP, df$Happiness)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.6847267\n```\n\n\n:::\n\n```{.r .cell-code}\n# Plot\nggplot(df, aes(x = GDP, y = Happiness)) +\n  geom_point(color = \"#2c7fb8\", size = 3, alpha = 0.7) +\n  geom_smooth(method = \"lm\", color = \"#f03b20\", se = TRUE) +\n  scale_x_continuous(labels = dollar_format()) +\n  labs(\n    title = \"Simulated Relationship Between GDP per Capita and Happiness\",\n    subtitle = \"Correlation ~ 0.69\",\n    x = \"GDP per Capita (USD)\",\n    y = \"Happiness Score (0-10)\"\n  ) +\n  theme_minimal(base_size = 14)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](final-project_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load required libraries\nlibrary(ggplot2)\nlibrary(MASS)\nlibrary(scales)\n\n# Set seed for reproducibility\nset.seed(123)\n\n# Number of countries\nn <- 50\n\n# Desired correlation\nrho <- 0.69\n\n# Means and standard deviations\nmu <- c(30000, 6)        # mean GDP, mean Happiness\nsigma <- c(20000, 1.5)   # SD of GDP, SD of Happiness\n\n# Covariance matrix\nSigma <- matrix(c(sigma[1]^2, rho*sigma[1]*sigma[2],\n                  rho*sigma[1]*sigma[2], sigma[2]^2), nrow=2)\n\n# Generate correlated GDP and Happiness\ndata <- mvrnorm(n=n, mu=mu, Sigma=Sigma)\n\n# Create data frame\ndf <- data.frame(\n  Country = paste(\"Country\", 1:n),\n  GDP = data[,1],\n  Happiness = pmin(pmax(data[,2], 0), 10)  # cap Happiness 0-10\n)\n\n# Check correlation\ncor(df$GDP, df$Happiness)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.6847267\n```\n\n\n:::\n\n```{.r .cell-code}\n# Scatter plot\nggplot(df, aes(x = GDP, y = Happiness)) +\n  geom_point(color = \"#2c7fb8\", size = 3, alpha = 0.7) +\n  geom_smooth(method = \"lm\", color = \"#f03b20\", se = TRUE) +\n  scale_x_continuous(labels = dollar_format()) +\n  labs(\n    title = \"Simulated Scatter Plot: GDP vs Happiness\",\n    subtitle = \"Correlation ~0.69\",\n    x = \"GDP per Capita (USD)\",\n    y = \"Happiness Score (0-10)\"\n  ) +\n  theme_minimal(base_size = 14)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](final-project_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load required libraries\nlibrary(ggplot2)\nlibrary(MASS)\nlibrary(scales)\n\n# Set seed for reproducibility\nset.seed(123)\nn <- 50\nrho <- 0.69\nmu <- c(30000, 6)\nsigma <- c(20000, 1.5)\nSigma <- matrix(c(sigma[1]^2, rho*sigma[1]*sigma[2],\n                  rho*sigma[1]*sigma[2], sigma[2]^2), nrow=2)\ndata <- mvrnorm(n=n, mu=mu, Sigma=Sigma)\n\ndf <- data.frame(\n  Country = paste(\"Country\", 1:n),\n  GDP = data[,1],\n  Happiness = pmin(pmax(data[,2], 0), 10)\n)\n\n# Scatter plot without confidence interval\nggplot(df, aes(x = GDP, y = Happiness)) +\n  geom_point(color = \"#2c7fb8\", size = 3, alpha = 0.7) +\n  geom_smooth(method = \"lm\", color = \"#f03b20\", se = FALSE) +  # remove shadow\n  scale_x_continuous(labels = scales::dollar_format()) +\n  labs(\n    title = \" Scatter Plot: GDP vs Happiness\",\n    subtitle = \"Correlation ~0.69\",\n    x = \"GDP per Capita (USD)\",\n    y = \"Happiness Score (0-10)\"\n  ) +\n  theme_minimal(base_size = 14)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](final-project_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n",
    "supporting": [
      "final-project_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}